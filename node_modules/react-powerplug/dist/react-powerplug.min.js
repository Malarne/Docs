!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(n.ReactPowerPlug={},n.React)}(this,function(n,a){"use strict";function u(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t.indexOf(e=i[r])<0&&(o[e]=n[e]);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(r=0;r<u.length;r++)t.indexOf(e=u[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}function c(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(n){c(t,n,e[n])})}return t}function e(n,t){n.prototype=Object.create(t.prototype),(n.prototype.constructor=n).__proto__=t}function l(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var f=function(n){for(var t=n.children,e="function"==typeof t?t:n.render,r=arguments.length,o=Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e?e.apply(void 0,o):null},v=function(){},p=function(i){function n(){for(var n,e,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e=i.call.apply(i,[this].concat(r))||this,c(l(l(e)),"state",s({},e.props.initial)),c(l(l(e)),"_setState",function(n,t){void 0===t&&(t=v),e.setState(n,function(){e.props.onChange&&e.props.onChange(e.state),t()})}),n||l(e)}return e(n,i),n.prototype.render=function(){return f(this.props,{state:this.state,setState:this._setState})},n}(a.Component),r=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(u){return function t(e,r,o){void 0===o&&(o=[]);var n=r[e],i=0===e;return("function"==typeof n.type?a.cloneElement:a.createElement)(n,{},function(n){return i?f.apply(void 0,[u].concat(o.concat(n))):t(e-1,r,o.concat(n))})}(t.length-1,t.reverse())}},h=function(n,t){return"function"==typeof n?n(t):n},i=function(t){return function(n){return{count:n.count+t}}},t=function(i){function n(){for(var n,t,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t=i.call.apply(i,[this].concat(r))||this,c(l(l(t)),"state",{times:0}),c(l(l(t)),"intervalId",void 0),c(l(l(t)),"_clearIntervalIfNecessary",function(){t.intervalId&&(t.intervalId=clearInterval(t.intervalId))}),c(l(l(t)),"_setIntervalIfNecessary",function(n){Number.isFinite(n)&&(t.intervalId=setInterval(function(){return t.setState(function(n){return{times:n.times+1}})},n))}),c(l(l(t)),"stop",function(){t._clearIntervalIfNecessary()}),c(l(l(t)),"start",function(n){t._setIntervalIfNecessary("number"==typeof n?n:null!=t.props.delay?t.props.delay:1e3)}),c(l(l(t)),"toggle",function(){t.intervalId?t.stop():t.start()}),n||l(t)}e(n,i);var t=n.prototype;return t.componentDidMount=function(){this.start()},t.componentDidUpdate=function(n){n.delay!==this.props.delay&&(this.stop(),this.start())},t.componentWillUnmount=function(){this.stop()},t.render=function(){return f(this.props,{start:this.start,stop:this.stop,toggle:this.toggle})},n}(a.Component),d=function(n,t){return-1!==n.indexOf(t)};n.Active=function(n){var t=n.onChange,e=u(n,["onChange"]);return a.createElement(p,{initial:{isActive:!1},onChange:t},function(n){var t=n.setState;return f(e,{isActive:n.state.isActive,bind:{onMouseDown:function(){return t({isActive:!0})},onMouseUp:function(){return t({isActive:!1})}}})})},n.Compose=function(n){var t=n.components,e=u(n,["components"]);return r.apply(void 0,t)(e)},n.Counter=function(n){var t=n.initial,e=void 0===t?0:t,r=n.onChange,o=u(n,["initial","onChange"]);return a.createElement(p,{initial:{count:e},onChange:r},function(n){var e=n.setState;return f(o,{count:n.state.count,inc:function(){return e(i(1))},dec:function(){return e(i(-1))},incBy:function(n){return e(i(n))},decBy:function(n){return e(i(-n))},set:function(t){return e(function(n){return{on:h(t,n.on)}})}})})},n.Focus=function(n){var t=n.onChange,e=u(n,["onChange"]);return a.createElement(p,{initial:{isFocused:!1},onChange:t},function(n){var t=n.setState;return f(e,{isFocused:n.state.isFocused,bind:{onFocus:function(){return t({isFocused:!0})},onBlur:function(){return t({isFocused:!1})}}})})},n.FocusManager=function(n){var t=n.onChange,e=u(n,["onChange"]),r=!0;return a.createElement(p,{initial:{isFocused:!1},onChange:function(n){return t&&t({isFocused:n.isFocused})}},function(n){var t=n.setState;return f(e,{isFocused:n.state.isFocused,blur:function(){t({isFocused:!1})},bind:{tabIndex:-1,onBlur:function(){r&&t({isFocused:!1})},onFocus:function(){t({isFocused:!0})},onMouseDown:function(){r=!1},onMouseUp:function(){r=!0}}})})},n.Form=function(n){var t=n.initial,e=void 0===t?{}:t,r=n.onChange,i=u(n,["initial","onChange"]);return a.createElement(p,{initial:s({},e),onChange:r},function(n){var t=n.state,o=n.setState;return f(i,{values:s({},t),input:function(r){var n=t[r]||"";return{bind:{onChange:function(n){return o(((t={})[r]=n.target.value,t));var t},value:n},set:function(e){return o(function(n){var t;return(t={})[r]=h(e,n.value),t})},value:n}}})})},n.Hover=function(n){var t=n.onChange,e=u(n,["onChange"]);return a.createElement(p,{initial:{isHovered:!1},onChange:t},function(n){var t=n.setState;return f(e,{isHovered:n.state.isHovered,bind:{onMouseEnter:function(){return t({isHovered:!0})},onMouseLeave:function(){return t({isHovered:!1})}}})})},n.Input=function(n){var t=n.initial,e=void 0===t?"":t,r=n.onChange,o=u(n,["initial","onChange"]);return a.createElement(p,{initial:{value:e},onChange:r},function(n){var t=n.state,e=n.setState;return f(o,{bind:{onChange:function(n){return e({value:n.target.value})},value:t.value},set:function(t){return e(function(n){return{value:h(t,n.value)}})},value:t.value})})},n.Interval=t,n.List=function(n){var t=n.initial,e=void 0===t?[]:t,r=n.onChange,o=u(n,["initial","onChange"]);return a.createElement(p,{initial:{list:e},onChange:r},function(n){var t=n.state,r=n.setState;return f(o,{list:t.list,first:function(){return t.list[0]},last:function(){return t.list[Math.max(0,t.list.length-1)]},set:function(t){return r(function(n){return{list:h(t,n.list)}})},push:function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return r(function(n){return{list:n.list.concat(t)}})},pull:function(e){return r(function(n){return{list:n.list.filter((t=e,function(){return!t.apply(void 0,arguments)}))};var t})},sort:function(t){return r(function(n){return{list:n.list.concat().sort(t)}})}})})},n.Map=function(n){var t=n.initial,e=void 0===t?{}:t,r=n.onChange,i=u(n,["initial","onChange"]);return a.createElement(p,{initial:s({},e),onChange:r},function(n){var t=n.state,o=n.setState;return f(i,{values:t,set:function(n,t){var e;return o(((e={})[n]=t,e))},over:function(e,r){return o(function(n){var t;return(t={})[e]=r(n[e]),t})},get:function(n){return t[n]}})})},n.Set=function(n){var e,t=n.initial,r=void 0===t?[]:t,o=n.onChange,i=u(n,["initial","onChange"]);return a.createElement(p,{initial:{values:(e=r,e.filter(function(n,t){return e.indexOf(n)===t}))},onChange:o},function(n){var r=n.state,o=n.setState;return f(i,{values:r.values,add:function(n){return o({values:(t=r.values,e=n,d(t,e)?t:t.concat([e]))});var t,e},clear:function(){return o({values:[]})},remove:function(n){return o({values:(t=r.values,e=n,d(t,e)?t.filter(function(n){return n!==e}):t)});var t,e},has:function(n){return d(r.values,n)}})})},n.State=p,n.Toggle=function(n){var t=n.initial,e=void 0!==t&&t,r=n.onChange,o=u(n,["initial","onChange"]);return a.createElement(p,{initial:{on:e},onChange:r},function(n){var e=n.setState;return f(o,{on:n.state.on,toggle:function(){return e(function(n){return{on:!n.on}})},set:function(t){return e(function(n){return{on:h(t,n.on)}})}})})},n.Touch=function(n){var t=n.onChange,e=u(n,["onChange"]);return a.createElement(p,{initial:{isTouched:!1},onChange:t},function(n){var t=n.setState;return f(e,{isTouched:n.state.isTouched,bind:{onTouchStart:function(){return t({isTouched:!0})},onTouchEnd:function(){return t({isTouched:!1})}}})})},n.Value=function(n){var t=n.initial,e=n.onChange,r=u(n,["initial","onChange"]);return a.createElement(p,{initial:{value:t},onChange:e},function(n){var e=n.setState;return f(r,{value:n.state.value,set:function(t){return e(function(n){return{value:h(t,n.value)}})}})})},n.compose=r,n.composeEvents=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return t.reverse().reduce(function(t,e){var r={},n=function(n){r[n]=t[n]?function(){e[n].apply(e,arguments),t[n].apply(t,arguments)}:e[n]};for(var o in e)n(o);return s({},t,r)})},n.renderProps=f,Object.defineProperty(n,"__esModule",{value:!0})});
